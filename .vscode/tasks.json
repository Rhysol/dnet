{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "make_build_dir",
            "type": "shell",
            "command": "mkdir -p build",
        },
        {
            "label": "generate_clangd_file",
            "type": "shell",
            "command": "cd build && cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=1 .."
        },
        {
            "label": "cmake_debug",
            "type": "shell",
            "command": "cd build && cmake -DCMAKE_BUILD_TYPE=Debug .."
        },
        {
            "label": "cmake_release",
            "type": "shell",
            "command": "cd build && cmake -DCMAKE_BUILD_TYPE=Release .."
        },
        {
            "label": "make",
            "type": "shell",
            "command": "cd build && make",
            "args": []
        },
        {
            "label": "build_debug",
            "dependsOrder": "sequence",
            "dependsOn": ["make_build_dir", "generate_clangd_file", "cmake_debug", "make"]
        },
        {
            "label": "build_release",
            "dependsOrder": "sequence",
            "dependsOn": ["make_build_dir", "cmake_release", "make"]
        },
        {
            "label": "build_mpsc_test",
            "type": "shell",
            "command": "g++ -std=c++11 -g -lpthread test/mpsc_queue_test.cpp"
        },
        {
            "label": "build_client_send_test",
            "type": "shell",
            "command": "g++ -std=c++11 -g test/client_send_test.cpp src/connection_manager.cpp"
        }
    ]
}